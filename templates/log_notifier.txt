import Env from '@ioc:Adonis/Core/Env'
import { LogNotifierConfig } from '@ioc:Omakei/LogNotifier'

export const logNotifierConfig: LogNotifierConfig = {
  allowedChannels: ['slack', 'mail'],
  allowedLogLevel: [50],
  channels: {
    slack: {
      webHook: Env.get('SLACK_WEBHOOK'),
      channel: Env.get('SLACK_CHANNEL', 'general'),
      iconUrl: Env.get('SLACK_ICON_URL', ':rotating_light:'),
      username: Env.get('SLACK_USERNAME', '@here'),
    },
    mail: {
      from: Env.get('SMTP_FROM', 'hello@example.com'),
      to: ['hell@example.com', 'info@example.com'],
      subject: 'Error Notification from ' + Env.get('APP_NAME'),
    },
  },
}
